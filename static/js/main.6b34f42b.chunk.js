(this["webpackJsonpvirtual-keypad"]=this["webpackJsonpvirtual-keypad"]||[]).push([[0],{314:function(e){e.exports=JSON.parse('{"translation":{"Virtual Keypad":"Virtual Keypad","Clover":"Clover","cloverDomain":{"label":"Clover Domain","help":"The Clover Domain is a **required** URL that will be used for API calls.\\n\\n###### Example:\\n\\n`https://www.clover.com`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"merchantId":{"label":"Merchant ID","title":"The Merchant ID should be a 13-character alphanumeric value.\\nExample:\xa0ABC1234567890","help":"The Merchant ID is a **required** 13-character alphanumeric value.\\n\\n###### Example:\\n\\n`ABC1234567890`\\n\\nFor help finding this value, refer to [Use the Web Dashboard to manage your Clover account](https://www.clover.com/help/web-dashboard-for-managing-your-clover-account/#view-merchant-id-clover-id-device-serial-number-and)\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"employeeId":{"label":"Employee ID","title":"The Employee ID should be a 13-character alphanumeric value.\\nExample:\xa0ABC1234567890","help":"The Employee ID is an **optional** 13-character alphanumeric value.\\n\\n###### Example:\\n\\n`ABC1234567890`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"accessToken":{"label":"Access Token","title":"The Access Token should be a 32-character UUID value.\\nExample:\xa012345678-ABCD-1234-ABCD-1234-1234567890AB\\nExample:\xa012345678abcd1234abcd12341234567890ab","help":"The Access Token is a **required** 32-character alphanumeric value.\\n\\n###### Example:\\n\\n`12345678abcd1234abcd12341234567890ab`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"friendlyId":{"label":"Friendly ID","help":"The Friendly ID is an **optional** value.\\n\\n###### Example:\\n\\n`Virtual Keypad`"},"Submit":"Submit","Reset":"Reset","Cancel":"Cancel","Select Device":"Select Device","cloudPayDisplay":{"installed":"Cloud Pay Display is installed","uninstalled":"Cloud Pay Display is NOT installed"},"Show details":"Show details\u2026","Menu":"Menu","MODE":{"TRANSACTION":"Keypad","HISTORY":"History"},"Show Welcome":"Show Welcome","Reset Device":"Reset Device","Disconnect":"Disconnect","Date":"Date","Type":"Type","Amount":"Amount","ACTION":{"ACCEPT_PAYMENT":"Accept","ACCEPT_SIGNATURE":"Accept","DISCONNECT":"Disconnect","IDENTIFY":"Identify","INVOKE_INPUT_OPTION":"Invoke","REJECT_PAYMENT":"Reject","REJECT_SIGNATURE":"Reject","RESET":"Reset","SHOW_WELCOME":"Show Welcome","TRANSACTION":"Transaction","VOID_PAYMENT":"Void","CANCEL":"Cancel","OK":"OK","Type Card":"Type Card","Enter":"Enter","Clear":"Clear","Done":"Done","No receipt":"No receipt","Print":"Print","Yes":"Yes","No":"No"},"Shortcut keys":"Shortcut keys","KEY_CODE":{"Backspace":"Backspace","Delete":"Delete","Digit0":"Digit 0","Digit1":"Digit 1","Digit2":"Digit 2","Digit3":"Digit 3","Digit4":"Digit 4","Digit5":"Digit 5","Digit6":"Digit 6","Digit7":"Digit 7","Digit8":"Digit 8","Digit9":"Digit 9","Enter":"Enter","Escape":"Esc","F1":"F1","F2":"F2","Numpad0":"Numpad 0","Numpad1":"Numpad 1","Numpad2":"Numpad 2","Numpad3":"Numpad 3","Numpad4":"Numpad 4","Numpad5":"Numpad 5","Numpad6":"Numpad 6","Numpad7":"Numpad 7","Numpad8":"Numpad 8","Numpad9":"Numpad 9","NumpadAdd":"Numpad Add","NumpadDecimal":"Numpad Decimal","NumpadDivide":"Numpad Divide","NumpadEnter":"Numpad Enter","NumpadMultiply":"Numpad Multiply","NumpadSubtract":"Numpad Subtract","Period":"Period"},"KEY":{"0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","00":"00","X":"X","<":"<","O":"O"},"TRANSACTION":{"SALE":"Sale","CREDIT":"Credit","VOID":"Void"},"Details":"Details","Partial Payment":"Partial Payment","Remaining":"Remaining","Payment ID":"Payment ID","External ID":"External ID","External Ref":"External Ref","Order ID":"Order ID","Total":"Total","Tip":"Tip","Card":"Card","CARD":{"VISA":"Visa","MC":"Mastercard","AMEX":"AmEx","DISCOVER":"Discover","DINERS_CLUB":"Diner\'s Club","JCB":"JCB","MAESTRO":"Maestro","SOLO":"Solo","LASER":"Laser","CHINA_UNION_PAY":"China Union Pay","CARTE_BLANCHE":"Carte Blanche","UNKNOWN":"Unknown","GIFT_CARD":"Gift Card","EBT":"EBT","GIROCARD":"Girocard","INTERAC":"Interac","OTHER":"Other"},"CARDHOLDER_NAME":{"MANUALLY ENTERED":"(manually entered)"},"Process":"Process","Void":"Void","ERROR":{"Amount is required":"Amount is required","Amount is invalid":"Amount is invalid","Merchant has no devices":"Merchant has no devices","Merchant has no devices with Cloud Pay Display installed":"Merchant has no devices with Cloud Pay Display installed","Device not found":"Device not found","Device does not have Cloud Pay Display installed":"Device does not have Cloud Pay Display installed","No payment was specified":"No payment was specified","Invalid transaction type":"Invalid transaction type"},"STATUS":{"Accepting payment\u2026":"Accepting payment\u2026","Accepting signature\u2026":"Accepting signature\u2026","Rejecting payment\u2026":"Rejecting payment\u2026","Rejecting signature\u2026":"Rejecting signature\u2026","Identifying\u2026":"Identifying\u2026","Connecting\u2026":"Connecting\u2026","Resetting\u2026":"Resetting\u2026","Processing\u2026":"Processing\u2026","Verify Signature":"Verify Signature","Ready":"Ready"},"connected":"connected"}}')},328:function(e,t,n){e.exports=n(747)},745:function(e,t,n){},746:function(e,t,n){},747:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,l=n(0),s=n.n(l),u=n(30),d=n.n(u),m=n(10),p=n(45),v=n(48),f=n(311),b=n(100),y=n(20),h="ACCEPT_PAYMENT",O="ACCEPT_SIGNATURE",E="DISCONNECT",j="IDENTIFY",g="INVOKE_INPUT_OPTION",N="REJECT_PAYMENT",C="REJECT_SIGNATURE",k="RESET",D="SHOW_WELCOME",I="TRANSACTION",T="TRANSACTION_MODE",w="CLOUD_PAY_DISPLAY",A=Object(y.a)({},w,"Cloud Pay Display"),R=Object.fromEntries(Object.entries(A).map((function(e){return e.reverse()}))),x="https://www.clover.com",S={MANUAL_ENTRY_ALLOWED:"MANUAL_ENTRY_ALLOWED",PERFORM_MANUAL_REFUND:"PERFORM_MANUAL_REFUND",VOID_PAYMENTS:"VOID_PAYMENTS"},P=/^(Flex|Mini|Mobile)/i,M="SALE",_="CREDIT",L="VOID",V=[],Y=n(2),F=n(164),U=n.n(F),K=function(){try{return JSON.parse(atob(localStorage.getItem("clover/virtual-keypad")||"bnVsbA=="))}catch(e){return null}},B=U.a.parse(window.location.search),q=U.a.parse(window.location.hash),z=K(),W={cloverDomain:function(){var e,t;if(document.referrer){var n=new URL(document.referrer);if(n.origin.includes("clover.com"))return n.toString()}return(null===z||void 0===z||null===(e=z.configuration)||void 0===e?void 0:e.cloverDomain)?null===z||void 0===z||null===(t=z.configuration)||void 0===t?void 0:t.cloverDomain:x}(),merchantId:B.merchant_id||(null===z||void 0===z||null===(a=z.configuration)||void 0===a?void 0:a.merchantId)||"",employeeId:B.employee_id||(null===z||void 0===z||null===(r=z.configuration)||void 0===r?void 0:r.employeeId)||"",accessToken:q.access_token||(null===z||void 0===z||null===(c=z.configuration)||void 0===c?void 0:c.accessToken)||"",friendlyId:(null===z||void 0===z||null===(o=z.configuration)||void 0===o?void 0:o.friendlyId)||"Virtual Keypad",loading:void 0},H=n(23),J=n.n(H),G={connector:null,connected:!1},X=function(e){var t=e.device.doTxStart;e.device.doTxStart=function(n,a,r){return"CREDIT"===r&&(n.externalReferenceId=n.externalPaymentId),t.call(e.device,n,a,r)}},Z=function(e){try{null===e||void 0===e||e.dispose()}catch(t){}},$=K(),Q={list:[],selected:(null===$||void 0===$||null===(i=$.devices)||void 0===i?void 0:i.selected)||""},ee={message:null,stack:null,important:void 0},te={employee:null,permissions:null},ne={width:0,height:0,strokes:[]},ae=n(6),re=n.n(ae),ce=n(12),oe=n(38),ie=function e(t,n){var a=n.retries,r=void 0===a?3:a,c=Object(oe.a)(n,["retries"]);return fetch(t,c).catch((function(n){if(r>1)return e(t,Object(Y.a)({retries:r-1},c));throw n}))},le=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.deviceId,r=e.accessToken;return ie(new URL("/v2/merchant/".concat(n,"/device/").concat(a,"/current_apps?access_token=").concat(r),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},se=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.accessToken;return ie(new URL("/v3/merchants/".concat(n,"/devices?access_token=").concat(a),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},ue=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.employeeId,r=e.accessToken;return ie(new URL("/v3/merchants/".concat(n,"/employees/").concat(a,"?access_token=").concat(r,"&expand=roles"),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},de=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.accessToken,r=e.filterNames,c=void 0===r?Object.values(S):r,o=new URL("/v3/merchants/".concat(n,"/permission_sets"),t);return o.searchParams.set("access_token",a),o.searchParams.set("expand","roles"),o.searchParams.set("limit",1e3),(null===c||void 0===c?void 0:c.length)&&o.searchParams.set("filter","name in (".concat(c.map((function(e){return"'".concat(e,"'")})).join(","),")")),ie(o.toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},me=function(e,t){var n=R[t.appName];return n?Object(Y.a)(Object(Y.a)({},e),{},Object(y.a)({},n,!0)):e},pe=function(e,t){return e.reduce((function(e,n){var a=e[e.length-1];return a.length===t?e.push([n]):a.push(n),e}),[[]])},ve=function(){var e=Object(ce.a)(re.a.mark((function e(t){var n,a,r,c,o,i,l,s,u;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloverDomain,a=t.merchantId,r=t.accessToken,e.next=3,se({cloverDomain:n,merchantId:a,accessToken:r});case 3:c=e.sent,o=c.elements,i=o.filter((function(e){return P.test(e.productName)})),l=pe(i,4),s=0;case 8:if(!(s<l.length)){e.next=15;break}return e.next=11,Promise.all(l[s].map((function(e){var t=e.id;return le({cloverDomain:n,merchantId:a,accessToken:r,deviceId:t})})));case 11:l[s]=e.sent;case 12:s++,e.next=8;break;case 15:return u=l.flat(),e.abrupt("return",i.map((function(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{apps:u[t].applications.reduce(me,{})})})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=n(16),be=function(){var e=Object(ce.a)(re.a.mark((function e(t){var n,a,r,c,o,i,l,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloverDomain,a=t.merchantId,r=t.accessToken,c=t.employeeId,e.next=3,Promise.all([ue({cloverDomain:n,merchantId:a,employeeId:c,accessToken:r}).catch((function(){return null})),de({cloverDomain:n,merchantId:a,accessToken:r}).catch((function(){return null}))]);case 3:return o=e.sent,i=Object(fe.a)(o,2),l=i[0],s=i[1],e.abrupt("return",{employee:l,permissions:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){var t=+e;return!isNaN(t)&&t>=0?(t/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""},he={active:null,mode:M,data:{}},Oe=Object(v.c)({actions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearActions":return V;case"appendActions":var r=e.some((function(e){var t,n;return e.type===a.type&&(null===(t=e.payload)||void 0===t?void 0:t.description)===(null===(n=a.payload)||void 0===n?void 0:n.description)}));return r?e:[].concat(Object(b.a)(e),[a]);case"setActions":return a||[];case"setConnector":return[{type:E,payload:{description:"Cancel"}}];case"@@connector/onDeviceReady":case"@@connector/onResetDeviceResponse":return[{type:j},{type:I}];case"@@connector/onDeviceActivityStart":return a.inputOptions.map((function(e){return{type:g,payload:e}}));case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":case"@@connector/onManualRefundResponse":return[{type:j},{type:I}];case"@@connector/onConfirmPaymentRequest":return[{type:h,payload:a},{type:N,payload:a}];case"@@connector/onVerifySignatureRequest":return[{type:O,payload:a},{type:C,payload:a}];default:return e}},buffer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearBuffer":return"";case"appendBuffer":return(e+a).replace(/^0+/,"").slice(0,7);case"setBuffer":return a;case"undoBuffer":return e.length?e.slice(0,e.length-1):"";default:return e}},configuration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setConfigurationLoading":return Object(Y.a)(Object(Y.a)({},e),{},{loading:!0});case"setConfigurationNotLoading":return Object(Y.a)(Object(Y.a)({},e),{},{loading:void 0});case"setConfiguration":return Object(Y.a)(Object(Y.a)({},e),{},{cloverDomain:a.cloverDomain||"",merchantId:a.merchantId||"",employeeId:a.employeeId||"",accessToken:a.accessToken||"",friendlyId:a.friendlyId||""});default:return e}},connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearConnector":return Z(e.connector),G;case"setConnector":return Z(e.connector),Object(Y.a)(Object(Y.a)({},e),{},{connector:a,connected:!1});case"@@connector/onDeviceDisconnected":return Object(Y.a)(Object(Y.a)({},e),{},{connected:!1});case"@@connector/onDeviceReady":X(e.connector);var r=new J.a.remotepay.RetrieveDeviceStatusRequest;return r.setSendLastMessage(!0),e.connector.retrieveDeviceStatus(r),Object(Y.a)(Object(Y.a)({},e),{},{connected:!0});default:return e}},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearDevices":return Object(Y.a)(Object(Y.a)({},e),{},{list:[]});case"clearDeviceId":return Object(Y.a)(Object(Y.a)({},e),{},{selected:""});case"setDeviceId":return Object(Y.a)(Object(Y.a)({},e),{},{selected:a||""});case"setDevices":return Object(Y.a)(Object(Y.a)({},e),{},{list:a||[]});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearError":return ee;case"setError":return Object(Y.a)(Object(Y.a)({},e),{},{message:a.message,stack:a.stack,important:a.important});case"@@connector/onDeviceError":return Object(Y.a)(Object(Y.a)({},e),{},{message:"Device Error ".concat(a.message),stack:JSON.stringify(a,null,2),important:void 0});case"@@connector/onManualRefundResponse":case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":return a.success?e:Object(Y.a)(Object(Y.a)({},e),{},{message:a.message,stack:JSON.stringify(a,null,2),important:!0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setEmployee":return Object(Y.a)(Object(Y.a)({},e),{},{employee:a});case"setPermissions":return Object(Y.a)(Object(Y.a)({},e),{},{permissions:a});default:return e}},signature:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,r=arguments.length>1?arguments[1]:void 0,c=r.type,o=r.payload;switch(c){case"clearSignature":return ne;case"setSignature":return{width:(null===o||void 0===o?void 0:o.width)||0,height:(null===o||void 0===o?void 0:o.height)||0,strokes:(null===o||void 0===o?void 0:o.strokes)||[]};case"@@connector/onVerifySignatureRequest":return{width:(null===(e=o.signature)||void 0===e?void 0:e.width)||0,height:(null===(t=o.signature)||void 0===t?void 0:t.height)||0,strokes:(null===(n=o.signature)||void 0===n?void 0:n.strokes)||[]};default:return a}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearStatus":return"";case"setStatus":return a||"";case"@@connector/onDeviceReady":case"@@connector/onResetDeviceResponse":return"Ready";case"@@connector/onDeviceActivityStart":return a.message;case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":case"@@connector/onManualRefundResponse":return"Ready";case"@@connector/onConfirmPaymentRequest":return a.challenges[0].message;case"@@connector/onVerifySignatureRequest":return"Verify Signature";default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setTransactionMode":return Object(Y.a)(Object(Y.a)({},e),{},{mode:a});case"setActiveTransaction":if(a.id){var r=e.data[a.id]||{};return Object(Y.a)(Object(Y.a)({},e),{},{active:a.id,data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a.id,Object(Y.a)(Object(Y.a)({},e.data[a.id]),{},{id:a.id,timestamp:Date.now(),type:a.type||r.type,amount:a.amount||r.amount||0,tipAmount:a.tipAmount||r.tipAmount||0})))})}return Object(Y.a)(Object(Y.a)({},e),{},{active:""});case"hideTransaction":return Object(Y.a)(Object(Y.a)({},e),{},{data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a,Object(Y.a)(Object(Y.a)({},e.data[a]),{},{visible:!1})))});case"showTransaction":return Object(Y.a)(Object(Y.a)({},e),{},{data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a,Object(Y.a)(Object(Y.a)({},e.data[a]),{},{visible:!0})))});case"removeTransaction":var c=Object(Y.a)(Object(Y.a)({},e),{},{data:Object(Y.a)({},e.data)});return delete c.data[a],c;case"updateTransaction":var o=e.data[a.id]||{};return Object(Y.a)(Object(Y.a)({},e),{},{data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a.id,Object(Y.a)(Object(Y.a)({},o),{},{id:a.id,timestamp:Date.now(),visible:a.visible||o.visible||!1,amount:a.amount||o.amount||0,tipAmount:a.tipAmount||o.tipAmount||0,type:a.type||o.type||"",payment:a.payment||o.payment||null})))});case"@@connector/onSaleResponse":if(a.success)return Object(Y.a)(Object(Y.a)({},e),{},{active:"",data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a.payment.externalPaymentId,Object(Y.a)(Object(Y.a)({},e.data[a.payment.externalPaymentId]),{},{id:a.payment.externalPaymentId,timestamp:Date.now(),visible:!0,type:M,payment:a.payment})))});var i=Object(Y.a)(Object(Y.a)({},e),{},{active:""});return delete i.data[e.active],i;case"@@connector/onManualRefundResponse":if(a.success)return Object(Y.a)(Object(Y.a)({},e),{},{active:"",data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a.credit.externalReferenceId,Object(Y.a)(Object(Y.a)({},e.data[a.credit.externalReferenceId]),{},{id:a.credit.externalReferenceId,timestamp:Date.now(),visible:!0,type:_,payment:a.credit})))});var l=Object(Y.a)(Object(Y.a)({},e),{},{active:""});return delete l.data[e.active],l;case"@@connector/onVoidPaymentResponse":if(a.success)return Object(Y.a)(Object(Y.a)({},e),{},{active:"",data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},a.payment.externalPaymentId,Object(Y.a)(Object(Y.a)({},e.data[a.payment.externalPaymentId]),{},{id:a.payment.externalPaymentId,timestamp:Date.now(),visible:!0,type:L,payment:a.payment})))});var s=e.data[e.active];return(null===s||void 0===s?void 0:s.type)===L?Object(Y.a)(Object(Y.a)({},e),{},{active:"",data:Object(Y.a)(Object(Y.a)({},e.data),{},Object(y.a)({},s.id,Object(Y.a)(Object(Y.a)({},e.data[s.id]),{},{type:M})))}):e;default:return e}}}),Ee=n(14),je=function(e){return e.configuration},ge=Object(Ee.a)(je,(function(e){return e.friendlyId||"Virtual Keypad"})),Ne=Object(Ee.a)(je,(function(e){return e.cloverDomain===x})),Ce=Object(Ee.a)(Ne,(function(e){return e?J.a.CardEntryMethods.DEFAULT:J.a.CardEntryMethods.DEFAULT|J.a.CardEntryMethods.CARD_ENTRY_METHOD_MANUAL})),ke=Object(Ee.a)(je,(function(e){return e.loading||!1})),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=e.stack,a=e.important;return{type:"setError",payload:{message:t,stack:n,important:a}}},Ie=function(e){return{type:"setActions",payload:e}},Te=function(e){return e.connection},we=Object(Ee.a)(Te,(function(e){return e.connector})),Ae=(Object(Ee.a)(Te,(function(e){return e.connected})),function(e){return{type:"setStatus",payload:e}}),Re=function(e){var t,n=e.configuration,a=e.devices;return t={configuration:Object(Y.a)(Object(Y.a)({},n),{},{loading:void 0}),devices:Object(Y.a)(Object(Y.a)({},Q),{},{selected:a.selected})},void localStorage.setItem("clover/virtual-keypad",btoa(JSON.stringify(t)))},xe=function(e){return{type:"setConfiguration",payload:{cloverDomain:e.cloverDomain,merchantId:e.merchantId,employeeId:e.employeeId,accessToken:e.accessToken,friendlyId:e.friendlyId}}},Se=function(e){return{type:"setDeviceId",payload:e}},Pe=function(e){return{type:"setDevices",payload:e}},Me=function(e){return{type:"setPermissions",payload:e}},_e=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.employeeId,r=e.accessToken,c=e.friendlyId;return function(){var e=Object(ce.a)(re.a.mark((function e(o,i){var l,s,u,d;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({type:"configure",payload:{cloverDomain:t,merchantId:n,employeeId:a,accessToken:r,friendlyId:c}});case 3:return e.next=5,o({type:"clearError"});case 5:return e.next=7,o({type:"setConfigurationLoading"});case 7:return e.next=9,o(xe({cloverDomain:t,merchantId:n,employeeId:a,accessToken:r,friendlyId:c}));case 9:return Re(i()),e.next=12,ve({cloverDomain:t,merchantId:n,employeeId:a,accessToken:r});case 12:return l=e.sent,e.next=15,o(Pe(l));case 15:if(l.length){e.next=17;break}throw new Error("Merchant has no devices");case 17:if(l.some((function(e){return e.apps[w]}))){e.next=19;break}throw new Error("Merchant has no devices with Cloud Pay Display installed");case 19:return e.next=21,be({cloverDomain:t,merchantId:n,employeeId:a,accessToken:r});case 21:return s=e.sent,u=s.employee,d=s.permissions,e.next=26,o({type:"setEmployee",payload:u});case 26:return e.next=28,o(Me(d));case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(0),e.next=34,o(De(e.t0));case 34:return e.prev=34,e.next=37,o({type:"setConfigurationNotLoading"});case 37:return e.finish(34);case 38:case"end":return e.stop()}}),e,null,[[0,30,34,38]])})));return function(t,n){return e.apply(this,arguments)}}()},Le=n(312),Ve=n(98),Ye=n(325),Fe=n(324),Ue=function(e){return e.devices},Ke=Object(Ee.a)(Ue,(function(e){return e.selected})),Be=Object(Ee.a)(Ue,Ke,(function(e,t){var n=e.list;return Object(b.a)(n).sort((function(e,n){return e.id===t?-1:n.id===t?1:0}))})),qe=function(e){return{type:"setConnector",payload:e}},ze=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,o,i,l,s,u,d,m,p,v;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:"connect",payload:e});case 3:return t.next=5,n(Se(e));case 5:if(r=a(),Re(r),c=je(r),o=c.cloverDomain,i=c.merchantId,l=c.accessToken,s=c.friendlyId,u=Be(r).find((function(t){return t.id===e}))){t.next=11;break}throw new Error("Device not found");case 11:if(u.apps[w]){t.next=13;break}throw new Error("Device does not have Cloud Pay Display installed");case 13:d=J.a.CloverConnectorFactoryBuilder.createICloverConnectorFactory(Object(y.a)({},J.a.CloverConnectorFactoryBuilder.FACTORY_VERSION,J.a.CloverConnectorFactoryBuilder.VERSION_12)),m=d.createICloverConnector(new J.a.WebSocketCloudCloverDeviceConfigurationBuilder("virtual-keypad",e,i,l).setCloverServer(o).setFriendlyId(s).build()),p=function(e){Object(Ye.a)(a,e);var t=Object(Fe.a)(a);function a(){var e;return Object(Le.a)(this,a),e=t.call(this),Object.keys(Object.getPrototypeOf(Object.getPrototypeOf(Object(Ve.a)(e)))).forEach((function(t){e[t]=function(e){return n({type:"@@connector/".concat(t),payload:e})}})),e}return a}(J.a.remotepay.ICloverConnectorListener),v=new p,m.addCloverConnectorListener(v),n(qe(m)),n(Ae("Connecting\u2026")),m.initializeConnection(),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(0),n(De(t.t0));case 26:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e,n){return t.apply(this,arguments)}}()},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.type,a=e.amount,r=e.tipAmount;return{type:"setActiveTransaction",payload:{id:t,type:n,amount:a,tipAmount:r}}},He=function(e){return{type:"hideTransaction",payload:e}},Je=function(e){return{type:"updateTransaction",payload:{id:e.id,type:e.type,amount:e.amount,tipAmount:e.tipAmount,payment:e.payment}}},Ge=function(){return function(){var e=Object(ce.a)(re.a.mark((function e(t,n){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:"disconnect"});case 3:return a=we(n()),e.prev=4,a.showWelcomeScreen(),e.next=8,new Promise((function(e){return setTimeout(e,500)}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return a.dispose(),e.next=15,t({type:"clearConnector"});case 15:return e.next=17,t({type:"clearDevices"});case 17:return e.next=19,t(We());case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(0),e.next=25,t(De(e.t1));case 25:case"end":return e.stop()}}),e,null,[[0,21],[4,10]])})));return function(t,n){return e.apply(this,arguments)}}()},Xe=n(323),Ze=n(71),$e=n(313),Qe={en:n(314)},et=Xe.a.use($e.a).use(Ze.e).init({fallbackLng:["en"],debug:!0,keySeparator:"~",nsSeparator:!1,interpolation:{escapeValue:!1},resources:Qe}),tt=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"reset"})),n(Ae("Resetting\u2026")),n({type:"clearActions"}),we(a()).resetDevice()}catch(r){n(De(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},nt=function(e){return e.error},at=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"showWelcome"})),n(Ae("Ready")),n(Ie([{type:j},{type:I}])),we(a()).showWelcomeScreen()}catch(r){n(De(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},rt=function(e){return{type:"appendBuffer",payload:e}},ct=function(e){return e.buffer},ot=function(e){return e.transactions},it=Object(Ee.a)(ot,(function(e){var t=e.data;return Object.values(t)})),lt=Object(Ee.a)(ot,(function(e){var t=e.active;return e.data[t]})),st=Object(Ee.a)(lt,(function(e){return null===e||void 0===e?void 0:e.type})),ut=Object(Ee.a)(lt,(function(e){return((null===e||void 0===e?void 0:e.amount)||0)+((null===e||void 0===e?void 0:e.tipAmount)||0)})),dt=Object(Ee.a)(it,(function(e){return e.filter((function(e){return e.payment}))})),mt=Object(Ee.a)(dt,(function(e){return e.filter((function(e){return e.visible}))})),pt=Object(Ee.a)(ot,(function(e){return e.mode})),vt=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,o,i,l,s,u,d,m,p;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et;case 3:if(r=t.sent,n(Object(Y.a)(Object(Y.a)({},e),{},{type:"transaction"})),c=a(),o=ct(c),i=we(c),l=Ce(c),s=pt(c),n({type:"clearActions"}),n(Ae("Processing...")),n({type:"clearBuffer"}),u=+o){t.next=16;break}throw new Error("Amount is required");case 16:if(!isNaN(u)){t.next=18;break}throw new Error("Amount is invalid");case 18:if(!(u<=0||u>9999999)){t.next=20;break}throw new Error("Amount is invalid");case 20:d=J.a.CloverID.getNewId(),s===_&&(d=d.slice(0,12)),n(We({id:d,type:s,amount:u})),t.t0=s,t.next=t.t0===M?26:t.t0===_?33:40;break;case 26:return(m=new J.a.remotepay.SaleRequest).setAmount(u),m.setExternalId(d),m.setCardEntryMethods(l),n(Je({id:d,type:M,amount:u})),i.sale(m),t.abrupt("break",41);case 33:return(p=new J.a.remotepay.ManualRefundRequest).setAmount(u),p.setExternalId(d),p.setCardEntryMethods(l),n(Je({id:d,type:_,amount:u})),i.manualRefund(p),t.abrupt("break",41);case 40:throw new Error("".concat(r("ERROR~Invalid transaction type"),": ").concat(s));case 41:t.next=47;break;case 43:t.prev=43,t.t1=t.catch(0),n(De(t.t1)),n({type:"@@connector/onDeviceReady"});case 47:case"end":return t.stop()}}),t,null,[[0,43]])})));return function(e,n){return t.apply(this,arguments)}}()},ft=function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,o,i,l,s,u;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n({type:"voidPayment",payload:e}),r=e.id,c=e.externalPaymentId,o=e.orderId,i=e.amount,l=e.tipAmount,s=we(a()),n({type:"clearActions"}),n(Ae("Processing\u2026")),r){t.next=8;break}throw new Error("No payment was specified");case 8:n(We({id:c,type:L,amount:i,tipAmount:l})),(u=new J.a.remotepay.VoidPaymentRequest).setPaymentId(r),u.setOrderId(o),u.setVoidReason(J.a.order.VoidReason.USER_CANCEL),s.voidPayment(u),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),n(De(t.t0)),n({type:"@@connector/onDeviceReady"});case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}()},bt=function(e){var t=Object(v.a)(f.a),n=window.__REDUX_DEVTOOLS_EXTENSION__,a=n?n():function(e){return e};return Object(v.e)(Oe,e,Object(v.d)(t,a))}(void 0),yt=je(bt.getState());bt.dispatch(_e(yt));var ht,Ot=bt,Et=function(e){return e.actions},jt=Object(Ee.a)(Et,(function(e){return e.find((function(e){return e.type===I}))})),gt=Object(Ee.a)(Et,(function(e){var t=e.filter((function(e){return e.type!==I}));if(2===t.length){var n,a,r=Object(fe.a)(t,2),c=r[0],o=r[1];if("No"===(null===(n=c.payload)||void 0===n?void 0:n.description)&&"Yes"===(null===(a=o.payload)||void 0===a?void 0:a.description))return[o,c]}return t})),Nt=function(e){return e.settings},Ct=Object(Ee.a)(Nt,(function(e){return e.employee})),kt=Object(Ee.a)(Ct,(function(e){var t;return null===e||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.elements})),Dt=Object(Ee.a)(Nt,(function(e){var t=e.permissions;return null===t||void 0===t?void 0:t.elements})),It=Object(Ee.a)(kt,Dt,(function(e,t){if(e&&t){var n=e.map((function(e){return e.id})),a=new Set(t.filter((function(e){return e.name===S.PERFORM_MANUAL_REFUND})).map((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.elements.map((function(e){return e.id}))})).flat());return n.some((function(e){return a.has(e)}))}return!1})),Tt=Object(Ee.a)(kt,Dt,(function(e,t){if(e&&t){var n=e.map((function(e){return e.id})),a=new Set(t.filter((function(e){return e.name===S.VOID_PAYMENTS})).map((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.elements.map((function(e){return e.id}))})).flat());return n.some((function(e){return a.has(e)}))}return!1})),wt=function(e){return e.signature},At=Object(Ee.a)(wt,(function(e){var t=e.strokes.map((function(e){return e.points})).flat().reduce((function(e,t){var n=e.x,a=e.X,r=e.y,c=e.Y;return{x:Math.min(n,t.x),X:Math.max(a,t.x),y:Math.min(r,t.y),Y:Math.max(c,t.y)}}),{x:1/0,X:-1/0,y:1/0,Y:-1/0});return[t.x,t.y,t.X-t.x,t.Y-t.y].join(" ")})),Rt=Object(Ee.a)(wt,(function(e){return e.strokes.map((function(e){return e.points.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)})).join(" ")}))})),xt=function(e){return e.status},St=n(8),Pt=n.n(St),Mt=n(752),_t=n(753),Lt=n(754),Vt=n(755),Yt=n(319),Ft=n(763),Ut=Object(Ee.a)(we,Be,(function(e,t){return!e&&!t.length})),Kt=n(749),Bt=n(750),qt=n(751),zt=n(317),Wt=n.n(zt),Ht=function(e){var t=e.id,n=e.type,a=void 0===n?"text":n,r=e.autoCorrect,c=void 0===r?"off":r,o=e.autoComplete,i=void 0===o?"off":o,u=e.autoCapitalize,d=void 0===u?"off":u,m=e.spellCheck,p=void 0===m?"false":m,v=e.value,f=e.disabled,b=e.onChange,y=Object(oe.a)(e,["id","type","autoCorrect","autoComplete","autoCapitalize","spellCheck","value","disabled","onChange"]),h=Object(Ft.a)().t,O=Object(l.useState)(!1),E=Object(fe.a)(O,2),j=E[0],g=E[1],N=Object(l.useCallback)((function(){return g((function(e){return!e}))}),[g]),C=Object(l.useMemo)((function(){return h("".concat(t,"~label"))}),[t,h]),k=Object(l.useMemo)((function(){return h("".concat(t,"~title"),"")}),[t,h]),D=Object(l.useMemo)((function(){return h("".concat(t,"~help"),"")}),[t,h]);return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:t,className:"d-block"},C,":",D&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Yt.a,{id:"".concat(t,"-btn"),color:"secondary",outline:!0,size:"sm",className:"float-right p-0 px-2",title:"Help",onClick:N},"?"),s.a.createElement(Kt.a,{isOpen:j,toggle:N,target:"".concat(t,"-btn")},s.a.createElement(Bt.a,null,C," Help"),s.a.createElement(qt.a,null,s.a.createElement(Wt.a,{source:D,linkTarget:"_blank"}))))),s.a.createElement("input",Object.assign({id:t,type:a,className:"form-control",title:k,autoCorrect:c,autoComplete:i,autoCapitalize:d,spellCheck:p,value:v,onChange:function(e){return b(e.target.value)},disabled:f},y)))},Jt=function(e){var t=e.id,n=e.label,a=e.checked,r=e.onChange,c=e.disabled,o=e.switch,i=e.mb0,l=Object(oe.a)(e,["id","label","checked","onChange","disabled","switch","mb0"]);return s.a.createElement("div",{className:Pt()("form-group",{"mb-0":i})},s.a.createElement("div",{className:Pt()("custom-control",{"custom-switch":o,"custom-checkbox":!o})},s.a.createElement("input",Object.assign({id:t,type:"checkbox",className:"custom-control-input",checked:a,onChange:function(){return r(!a)},disabled:c},l)),s.a.createElement("label",{className:"custom-control-label font-weight-normal",htmlFor:t},n)))},Gt=function(e){var t=e.size,n=void 0===t?28:t,a=Object(Ft.a)().t;return s.a.createElement("svg",{className:"Logo",id:"clover-logo-svg",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 33.15 33.15","aria-labelledby":"svg-logo-title",role:"image"},s.a.createElement("title",{id:"svg-logo-title"},a("Clover")),s.a.createElement("g",{id:"clover-symbol-2","data-name":"clover-symbol"},s.a.createElement("path",{d:"M191.45,85.64A7.5,7.5,0,1,0,184,93.09h7.49V85.64Z",transform:"translate(-176.46 -77.01)"}),s.a.createElement("path",{d:"M193.61,85.64a7.5,7.5,0,1,1,7.49,7.45h-7.49V85.64Z",transform:"translate(-176.46 -77.01)"}),s.a.createElement("path",{d:"M193.61,102.7a7.5,7.5,0,1,0,7.49-7.45h-7.49v7.45Z",transform:"translate(-176.46 -77.01)"}),s.a.createElement("path",{d:"M191.46,102.7A7.5,7.5,0,1,1,184,95.25h7.49v7.45Zm-7.5,5.35a5.38,5.38,0,0,0,5.4-5.35V97.36H184a5.35,5.35,0,1,0,0,10.7h0Z",transform:"translate(-176.46 -77.01)"})))},Xt=function(){var e=Object(Ft.a)().t,t=Object(m.b)(),n=Object(m.c)(je),a=Object(m.c)(ke),r=Object(m.c)(Ut),c=Object(l.useState)(n.cloverDomain),o=Object(fe.a)(c,2),i=o[0],u=o[1],d=Object(l.useState)(n.merchantId),p=Object(fe.a)(d,2),v=p[0],f=p[1],b=Object(l.useState)(n.employeeId),y=Object(fe.a)(b,2),h=y[0],O=y[1],E=Object(l.useState)(n.accessToken),j=Object(fe.a)(E,2),g=j[0],N=j[1],C=Object(l.useState)(n.friendlyId),k=Object(fe.a)(C,2),D=k[0],I=k[1],T=Object(l.useState)(!1),w=Object(fe.a)(T,2),A=w[0],R=w[1],x=Object(l.useMemo)((function(){return a||A}),[a,A]),S=Object(l.useCallback)(function(){var e=Object(ce.a)(re.a.mark((function e(n){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),R(!0),e.next=5,t(_e({cloverDomain:i,merchantId:v,employeeId:h,accessToken:g,friendlyId:D}));case 5:return e.prev=5,R(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(t){return e.apply(this,arguments)}}(),[t,i,v,h,g,D]),P=Object(l.useCallback)((function(e){e.preventDefault(),u(n.cloverDomain),f(n.merchantId),O(n.employeeId),N(n.accessToken),I(n.friendlyId)}),[n,u,f,O,N,I]);return r?s.a.createElement("form",{onSubmit:S,onReset:P},s.a.createElement(Mt.a,{className:"Configuration"},s.a.createElement(_t.a,null,s.a.createElement(Gt,null),s.a.createElement("h3",null,e("Virtual Keypad"))),a&&s.a.createElement(Lt.a,null,s.a.createElement("p",null,"Loading...")),!a&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Lt.a,null,s.a.createElement(Ht,{id:"cloverDomain",type:"url",value:i,onChange:u,disabled:x,required:!0}),s.a.createElement(Ht,{id:"merchantId",pattern:"^[a-zA-Z0-9]{13}$",maxLength:"13",value:v,onChange:f,disabled:x,required:!0}),s.a.createElement(Ht,{id:"employeeId",pattern:"^[a-zA-Z0-9]{13}$",maxLength:"13",value:h,onChange:O,disabled:x}),s.a.createElement(Ht,{id:"accessToken",pattern:"^[a-fA-F0-9]{8}(-?[a-fA-F0-9]{4}){3}-?[a-fA-F0-9]{12}$",value:g,onChange:N,disabled:x,required:!0}),s.a.createElement(Ht,{id:"friendlyId",value:D,onChange:I,disabled:x})),s.a.createElement(Vt.a,null,s.a.createElement(Yt.a,{type:"submit",color:"success",disabled:x},e("Submit")),s.a.createElement(Yt.a,{type:"reset",color:"secondary",className:"ml-2",disabled:x},e("Reset")))))):null},Zt=Object(Ee.a)(we,Be,(function(e,t){return!e&&!!t.length})),$t=n(756),Qt=function(e){var t=e.device,n=e.active,a=e.disabled,r=e.onClick,c=Object(Ft.a)().t,o=Object(l.useState)(!1),i=Object(fe.a)(o,2),u=i[0],d=i[1],m=Object(l.useMemo)((function(){return"device-".concat(t.id)}),[t.id]),p=function(e){e&&(e.preventDefault(),e.stopPropagation()),d(!u)},v=t.apps[w],f=c("cloudPayDisplay~".concat(v?"":"un","installed"));return s.a.createElement("button",{key:t.id,type:"button",className:Pt()("list-group-item d-flex justify-content-between align-items-center list-group-item-action p-1",{disabled:a,"list-group-item-primary":!a&&n}),onClick:r},s.a.createElement("div",{className:"p-1"},t.name&&s.a.createElement("div",{className:"font-weight-bold"},t.name),t.productName," ",t.serial),s.a.createElement("span",{id:m,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:p,className:Pt()("badge p-1",{"badge-secondary":a,"badge-success":!a&&v,"badge-warning":!a&&!v}),role:"img","aria-label":f},"\u2601\ufe0f"),s.a.createElement($t.a,{isOpen:u,target:m,toggle:p,placement:"left"},s.a.createElement("span",{className:"small"},f)))},en=function(){var e=Object(Ft.a)().t,t=Object(m.b)(),n=Object(m.c)(Be),a=Object(m.c)(Ke),r=Object(m.c)(Zt),c=Object(l.useState)(),o=Object(fe.a)(c,2),i=o[0],u=o[1],d=Object(l.useCallback)((function(e){return function(){var n=Object(ce.a)(re.a.mark((function n(a){return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a.preventDefault(),u(!0),n.next=5,t(ze(e));case 5:return n.prev=5,u(!1),n.finish(5);case 8:case"end":return n.stop()}}),n,null,[[0,,5,8]])})));return function(e){return n.apply(this,arguments)}}()}),[t]);return r?s.a.createElement(Mt.a,{className:"Devices"},s.a.createElement(_t.a,null,s.a.createElement(Gt,null),s.a.createElement("h3",null,e("Virtual Keypad")),s.a.createElement("button",{className:"close text-light",title:e("Cancel"),onClick:function(){return t({type:"clearDevices"})},disabled:i},"\xd7")),s.a.createElement(Lt.a,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,e("Select Device"),":"),s.a.createElement("div",{className:"list-group"},n.map((function(e){return s.a.createElement(Qt,{key:e.id,device:e,disabled:i,active:e.id===a,onClick:d(e.id)})})))))):null},tn=(ht={},Object(y.a)(ht,h,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"acceptPayment"})),n(Ae("Accepting payment\u2026")),n({type:"clearActions"}),we(a()).acceptPayment(e.payload.payment)}catch(r){n(De(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,O,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"acceptSignature"})),n(Ae("Accepting signature\u2026")),n({type:"clearActions"}),n({type:"clearSignature"}),r=we(a()),(c=new J.a.remotepay.VerifySignatureRequest).setPayment(e.payload.payment),r.acceptSignature(c)}catch(o){n(De(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,E,Ge),Object(y.a)(ht,j,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c,o,i;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et;case 3:r=t.sent,n(Object(Y.a)(Object(Y.a)({},e),{},{type:"identify"})),n(Ae("Identifying\u2026")),n(Ie([{type:D,payload:{description:"OK"}},{type:E,payload:{description:"Cancel"}}])),c=a(),o=we(c),i=ge(c),o.showMessage("".concat(i," ").concat(r("connected"))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(De(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,g,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"invokeInputOption"})),r=we(a()),(c=new J.a.remotepay.InputOption).setDescription(e.payload.description),c.setKeyPress(e.payload.keyPress),r.invokeInputOption(c)}catch(o){n(De(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,N,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"rejectPayment"})),n(Ae("Rejecting payment\u2026")),n({type:"clearActions"}),we(a()).rejectPayment(e.payload.payment,e.payload.challenges[0])}catch(r){n(De(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,C,(function(e){return function(){var t=Object(ce.a)(re.a.mark((function t(n,a){var r,c;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(Y.a)(Object(Y.a)({},e),{},{type:"rejectSignature"})),n(Ae("Rejecting signature\u2026")),n({type:"clearActions"}),n({type:"clearSignature"}),r=we(a()),(c=new J.a.remotepay.VerifySignatureRequest).setPayment(e.payload.payment),r.rejectSignature(c)}catch(o){n(De(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(y.a)(ht,k,tt),Object(y.a)(ht,D,at),Object(y.a)(ht,I,vt),Object(y.a)(ht,T,(function(e){var t=e.payload;return{type:"setTransactionMode",payload:t.mode}})),ht),nn={TRANSACTION:"TRANSACTION",HISTORY:"HISTORY"},an=Object(Ee.a)(we,(function(e){return!!e})),rn=function(e){var t=e.width,n=void 0===t?250:t,a=Object(oe.a)(e,["width"]),r=Object(m.c)(At),c=Object(m.c)(Rt);return c.length?s.a.createElement("div",{className:"Signature"},s.a.createElement("svg",Object.assign({viewBox:r,width:n},a),c.map((function(e,t){return s.a.createElement("polyline",{key:t,points:e,fill:"none",stroke:"black"})})))):null},cn=function(){var e=Object(Ft.a)().t,t=Object(m.c)(xt),n=Object(m.c)(ct),a=Object(m.c)(st),r=Object(m.c)(ut);return s.a.createElement("div",{className:"Screen alert alert-secondary"},!!r&&s.a.createElement("div",{className:"Transaction d-flex justify-content-between bg-white rounded-top border-bottom border-secondary"},s.a.createElement("div",{className:"font-italic"},e(["TRANSACTION~".concat(a),a])),s.a.createElement("div",{className:"font-weight-bold"},ye(r))),!n&&s.a.createElement("div",null,t),s.a.createElement(rn,null),n&&s.a.createElement("div",{className:"text-muted"},n),n&&s.a.createElement("h3",{className:"text-right"},ye(n)))},on=n(322),ln=n(764),sn=n(765),un=n(757),dn=n(758),mn=function(e,t){var n=e.style.fontSize;e.style.fontSize="".concat(t,"em");var a=e.parentElement,r=a.offsetWidth,c=a.offsetHeight,o=a.scrollWidth,i=a.scrollHeight;return e.style.fontSize=n,Math.min(r/o,c/i)>=1},pn=function(e){var t=e.children,n=e.minScale,a=void 0===n?.4:n,r=e.maxScale,c=void 0===r?1:r,o=Object(l.useRef)();return Object(l.useEffect)((function(){var e=o.current;e&&(mn(e,c)?e.style.fontSize="".concat(c,"em"):(e.style.fontSize="".concat(a,"em"),mn(e,a)?function e(t,n){var a=Object(fe.a)(n,2),r=a[0],c=a[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!(o<=0)){var i=(c+r)/2;mn(t,i)?(t.style.fontSize="".concat(i,"em"),e(t,[i,c],o-1)):e(t,[r,i],o-1)}}(e,[a,c]):e.classList.add("text-truncate")))}),[c,a,o]),s.a.createElement("span",{ref:o},t)},vn=Object(l.forwardRef)((function(e,t){var n=e.action,a=e.height,r=e.color,c=e.keyCodes,o=e.disabled,i=e.onClick,u=e.moreActions,d=e.moreText,m=e.onMoreClick,p=e.children,v=Object(oe.a)(e,["action","height","color","keyCodes","disabled","onClick","moreActions","moreText","onMoreClick","children"]),f=Object(Ft.a)().t,b=Object(l.useState)(!1),y=Object(fe.a)(b,2),h=y[0],O=y[1],E=t||Object(l.useRef)(),j=(Object(l.useRef)(),Object(l.useCallback)((function(){return O((function(e){return!e}))}),[O]));Object(l.useEffect)((function(){if(!o){var e=function(e){return!c.includes(e.code)||(e.preventDefault(),i(),!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[o,c,i]);var g=Object(l.useMemo)((function(){var e,t=(null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.description)||(null===n||void 0===n?void 0:n.type);return t?f(["ACTION~".concat(t),t]):p}),[n,p,f]),N=Object(l.useMemo)((function(){return[f("Shortcut keys"),c.map((function(e){return f(["KEY_CODE~".concat(e),e])})).join(", ")].join(": ")}),[c,f]);return n&&(null===u||void 0===u?void 0:u.length)?s.a.createElement(ln.a,{isOpen:h,toggle:j},s.a.createElement(Yt.a,Object.assign({color:"dark",className:"action rounded-left",onClick:i,disabled:o,title:N},v),g||s.a.createElement("span",null,"\xa0")),s.a.createElement(sn.a,{caret:!0,color:"dark",className:"action",disabled:o}),s.a.createElement(un.a,{className:"bg-dark",right:!0},u.map((function(e,t){var n,a;return s.a.createElement(dn.a,{key:t,className:"bg-dark text-light",onClick:function(){return m(e)}},f(["ACTION~".concat((null===(n=e.payload)||void 0===n?void 0:n.description)||e.type),(null===(a=e.payload)||void 0===a?void 0:a.description)||e.type]))})))):(null===u||void 0===u?void 0:u.length)?s.a.createElement("div",{className:"btn-group-vertical d-flex flex-column"},s.a.createElement(ln.a,{isOpen:h,toggle:j},s.a.createElement(sn.a,{caret:!0,color:"dark",outline:!0,size:"sm",className:"text-light text-truncate",disabled:o},d),s.a.createElement(un.a,{right:!0,className:"bg-dark"},u.map((function(e,t){var n,a;return s.a.createElement(dn.a,{key:t,className:"bg-dark text-light",onClick:function(){return m(e)}},f(["ACTION~".concat((null===(n=e.payload)||void 0===n?void 0:n.description)||e.type),(null===(a=e.payload)||void 0===a?void 0:a.description)||e.type]))})))),s.a.createElement(Yt.a,Object.assign({outline:!0,color:"dark",className:Pt()("h-100","text-".concat(r||"light")),onClick:i,disabled:o,title:N},v),g||s.a.createElement("span",null,"\xa0"))):s.a.createElement(Yt.a,Object.assign({innerRef:E,style:{height:a},outline:!n,color:"dark",className:Pt()("text-".concat(r||"light"),{action:n}),disabled:o,onClick:i,title:N},v),s.a.createElement(pn,{key:g,minScale:n?.4:1,maxScale:1},g))})),fn=function(){var e=Object(Ft.a)().t,t=Object(m.b)(),n=Object(m.c)(gt),a=Object(m.c)(jt),r=Object(m.c)(pt),c=Object(m.c)(It),o=Object(l.useState)(!1),i=Object(fe.a)(o,2),u=i[0],d=i[1],p=Object(l.useMemo)((function(){return!a||u}),[a,u]),v=Object(l.useCallback)(function(){var e=Object(ce.a)(re.a.mark((function e(n){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n.type!==g&&n.type!==T||setTimeout((function(){return d(!1)}),250),e.next=4,t(tn[n.type](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,d]),f=function(e){return Object(ce.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v(e));case 1:case"end":return t.stop()}}),t)})))};Object(l.useEffect)((function(){n.length&&d(!1)}),[d,n]);var b=Object(l.useRef)(),y=Object(l.useState)(),h=Object(fe.a)(y,2),O=h[0],E=h[1];Object(l.useEffect)((function(){b.current&&E(b.current.offsetWidth)}),[b,E]);var j=Object(l.useMemo)((function(){return c?{moreText:e(["TRANSACTION~".concat(r),r]),moreActions:[{type:T,payload:{description:"TRANSACTION~SALE",mode:M}},{type:T,payload:{description:"TRANSACTION~CREDIT",mode:_}}],onMoreClick:function(e){return v(e)}}:void 0}),[c,v,e,r]),N=Object(on.a)(n),C=N[0],k=N[1],D=N.slice(2);return s.a.createElement("div",{className:"Keys"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-6 p-1"},s.a.createElement(vn,{action:C||{},disabled:!C||u,keyCodes:["F1","NumpadDivide"],onClick:f(C)})),s.a.createElement("div",{className:"col-6 p-1"},s.a.createElement(vn,{action:k||{},disabled:!k||u,keyCodes:["F2","NumpadMultiply"],onClick:f(k),moreActions:D,onMoreClick:function(e){return v(e)}}))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{ref:b,height:O,disabled:p,keyCodes:["Numpad7","Digit7"],onClick:function(){return t(rt("7"))}},e("KEY~7"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad8","Digit8"],onClick:function(){return t(rt("8"))}},e("KEY~8"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad9","Digit9"],onClick:function(){return t(rt("9"))}},e("KEY~9"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{color:"danger",disabled:p,keyCodes:["NumpadSubtract","Escape"],onClick:function(){return t({type:"clearBuffer"})}},e("KEY~X")))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{height:O,disabled:p,keyCodes:["Numpad4","Digit4"],onClick:function(){return t(rt("4"))}},e("KEY~4"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad5","Digit5"],onClick:function(){return t(rt("5"))}},e("KEY~5"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad6","Digit6"],onClick:function(){return t(rt("6"))}},e("KEY~6"))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,{color:"warning",disabled:p,keyCodes:["NumpadAdd","Backspace","Delete"],onClick:function(){return t({type:"undoBuffer"})}},e("KEY~<")))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-9"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-4 p-1"},s.a.createElement(vn,{height:O,disabled:p,keyCodes:["Numpad1","Digit1"],onClick:function(){return t(rt("1"))}},e("KEY~1"))),s.a.createElement("div",{className:"col-4 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad2","Digit2"],onClick:function(){return t(rt("2"))}},e("KEY~2"))),s.a.createElement("div",{className:"col-4 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["Numpad3","Digit3"],onClick:function(){return t(rt("3"))}},e("KEY~3")))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-8 p-1"},s.a.createElement(vn,{height:O,disabled:p,keyCodes:["Numpad0","Digit0"],onClick:function(){return t(rt("0"))}},e("KEY~0"))),s.a.createElement("div",{className:"col-4 p-1"},s.a.createElement(vn,{disabled:p,keyCodes:["NumpadDecimal","Period"],onClick:function(){return t(rt("00"))}},e("KEY~00"))))),s.a.createElement("div",{className:"col-3 p-1"},s.a.createElement(vn,Object.assign({color:"success",disabled:p,keyCodes:["NumpadEnter","Enter"],onClick:function(){return t(vt())}},j),e("KEY~O")))))},bn=function(e){var t=e.mode,n=e.setMode,a=Object(Ft.a)().t,r=Object(m.b)(),c=Object(l.useState)(!1),o=Object(fe.a)(c,2),i=o[0],u=o[1],d=Object(l.useCallback)((function(){return u(!i)}),[i,u]),p=Object(l.useCallback)((function(){return r(at())}),[r]),v=Object(l.useCallback)((function(){return r(tt())}),[r]),f=Object(l.useCallback)((function(){return r(Ge())}),[r]);return s.a.createElement(ln.a,{isOpen:i,toggle:d},s.a.createElement(sn.a,{size:"sm",outline:!0,color:"dark",className:"text-light",onClick:d,title:a("Menu")},"\u2630"),s.a.createElement(un.a,{right:!0},Object.values(nn).map((function(e){return s.a.createElement(dn.a,{key:e,onClick:function(){return n(e)}},s.a.createElement(Jt,{id:"mode-".concat(e),label:a(["MODE~".concat(e),e]),checked:e===t,readOnly:!0,mb0:!0}))})),s.a.createElement(dn.a,{divider:!0}),s.a.createElement(dn.a,{onClick:p},a("Show Welcome")),s.a.createElement(dn.a,{onClick:v},a("Reset Device")),s.a.createElement(dn.a,{onClick:f},a("Disconnect"))))},yn=n(759),hn=n(761),On=n(760),En=n(762),jn=function(e){var t=e.amount,n=e.tipAmount,a=e.payment,r=(t||0)+(n||0),c=((null===a||void 0===a?void 0:a.amount)||0)+((null===a||void 0===a?void 0:a.tipAmount)||0);return{start:r,final:c,partial:r>c,remaining:r-c}},gn=function(e){var t,n,a=e.transaction,r=a||{},c=r.id,o=r.timestamp,i=r.type,u=r.payment,d=Object(Ft.a)().t,v=Object(m.b)(),f=Object(p.useToasts)().removeToast,b=Object(m.c)(Tt),y=Date.now(),h=Object(En.a)(o,{minutes:26}),O=Object(l.useState)(b&&y<=h),E=Object(fe.a)(O,2),j=E[0],g=E[1];Object(l.useEffect)((function(){if(j){var e=h-y;if(e>0){var t=setTimeout((function(){return g(!1)}),e);return function(){return clearTimeout(t)}}}}),[y,g,j,h]);var N=jn(a),C=N.partial,k=N.remaining,D=Object(l.useCallback)(Object(ce.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({type:"setBuffer",payload:k||""});case 3:return e.next=5,v(vt());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,v(De(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k,v]),I=Object(l.useCallback)(Object(ce.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(c),e.next=4,v(He(c));case 4:return e.next=6,v(ft(u));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,v(De(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[v,c,u,f]);return s.a.createElement("div",{className:"Transaction"},a.type!==L&&C&&s.a.createElement("div",{className:"alert alert-warning"},s.a.createElement("h6",{className:"alert-heading"},d("Partial Payment")),s.a.createElement("div",null,d("Remaining"),": ",ye(k))),s.a.createElement("h5",null,d(["TRANSACTION~".concat(i),i])," ",d("Details")),s.a.createElement(yn.a,{size:"sm",className:"small mb-0"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,d("Payment ID"),":"),s.a.createElement("td",null,u.id)),u.externalPaymentId&&s.a.createElement("tr",null,s.a.createElement("th",null,d("External ID"),":"),s.a.createElement("td",null,u.externalPaymentId)),u.externalReferenceId&&s.a.createElement("tr",null,s.a.createElement("th",null,d("External Ref"),":"),s.a.createElement("td",null,u.externalReferenceId)),s.a.createElement("tr",null,s.a.createElement("th",null,d("Order ID"),":"),s.a.createElement("td",null,(null===(t=u.order)||void 0===t?void 0:t.id)||(null===(n=u.orderRef)||void 0===n?void 0:n.id))),!!u.tipAmount&&s.a.createElement("tr",null,s.a.createElement("th",null,d("Total"),":"),s.a.createElement("td",null,ye(u.amount+u.tipAmount))),s.a.createElement("tr",null,s.a.createElement("th",null,d("Amount"),":"),s.a.createElement("td",null,ye(u.amount))),!!u.tipAmount&&s.a.createElement("tr",null,s.a.createElement("th",null,d("Tip"),":"),s.a.createElement("td",null,ye(u.tipAmount))),s.a.createElement("tr",null,s.a.createElement("th",null,d("Card"),":"),s.a.createElement("td",null,s.a.createElement("div",null,d(["CARD~".concat(u.cardTransaction.cardType),u.cardTransaction.cardType])),s.a.createElement("div",null,function(e){var t=e.first6,n=e.last4;return[t,"*".repeat(6),n].join("").replace(/.{4}/g," $&").trim()}(u.cardTransaction)),u.cardTransaction.cardholderName&&s.a.createElement("div",null,d(["CARDHOLDER_NAME~".concat(u.cardTransaction.cardholderName),u.cardTransaction.cardholderName])))))),a.type===M&&s.a.createElement("div",null,C&&s.a.createElement(Yt.a,{color:"primary",size:"sm",className:"mr-1",onClick:D},d("Process")," ",ye(k)),j&&s.a.createElement(Yt.a,{color:"danger",size:"sm",onClick:I},d("Void"))))},Nn=function(e){var t=Object(m.b)(),n=Object(p.useToasts)().addToast;return function(a){var r,c=jn(a).partial;r=a.type===L?"info":c?"warning":"success",n(s.a.createElement(gn,{transaction:a}),{id:a.id,appearance:r,autoDismiss:e&&!c,autoDismissTimeout:8e3,onDismiss:function(){t(He(a.id))}})}},Cn=function(){var e=Object(Ft.a)().t,t=Object(m.c)(dt),n=Nn(),a=Object(l.useMemo)((function(){return t.sort((function(e,t){return Object(On.a)(e.timestamp,t.timestamp)}))}),[t]);return s.a.createElement("div",{className:"History"},s.a.createElement(yn.a,{size:"sm",hover:!0,className:"table-secondary",striped:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,e("Date")),s.a.createElement("th",null,e("Type")),s.a.createElement("th",{className:"text-right"},e("Amount")))),s.a.createElement("tbody",null,a.map((function(t){return s.a.createElement("tr",{key:t.id,role:"button",onClick:function(){return n(t)}},s.a.createElement("td",null,function(e){var t=e.timestamp;return t?Object(hn.a)(t,"M/d h:mm a"):"??"}(t)),s.a.createElement("td",null,e("TRANSACTION~".concat(t.type))),s.a.createElement("td",{className:"text-right"},function(e){var t=e.amount,n=e.tipAmount,a=e.payment;return ye(a?(a.amount||0)+(a.tipAmount||0):(t||0)+(n||0))}(t)))})))))},kn=(n(745),function(){var e=Object(Ft.a)().t,t=Object(m.c)(an),n=Object(l.useState)(nn.TRANSACTION),a=Object(fe.a)(n,2),r=a[0],c=a[1];return t?s.a.createElement(Mt.a,{className:"Keypad"},s.a.createElement(_t.a,null,s.a.createElement(Gt,null),s.a.createElement("h3",null,e("Virtual Keypad")),s.a.createElement(bn,{mode:r,setMode:c})),s.a.createElement(Lt.a,null,r===nn.TRANSACTION&&s.a.createElement(cn,null),r===nn.TRANSACTION&&s.a.createElement(fn,null),r===nn.HISTORY&&s.a.createElement(Cn,null))):null}),Dn=function(e){var t=e.error,n=t.message,a=t.stack,r=Object(Ft.a)().t,c=Object(l.useState)(!1),o=Object(fe.a)(c,2),i=o[0],u=o[1];return Object(l.useEffect)((function(){return function(){document.querySelectorAll(".Error.expanded").length-(i?1:0)||document.querySelector(".react-toast-notifications__container").classList.remove("expanded")}}),[i]),s.a.createElement("div",{className:Pt()("Error",{expanded:i})},s.a.createElement("h5",null,r(["ERROR~".concat(n),n])),!!a&&!i&&s.a.createElement(Yt.a,{color:"link",size:"small",onClick:function(){document.querySelector(".react-toast-notifications__container").classList.add("expanded"),u(!0)}},r("Show details")),!!a&&i&&s.a.createElement("pre",{className:"mb-0"},s.a.createElement("code",null,a)))},In=(n(746),function(){var e=function(){var e=Object(l.useState)(!1),t=Object(fe.a)(e,2),n=t[0],a=t[1];return Object(l.useEffect)((function(){if(!n){var e=function(){return a(!0)};return document.addEventListener("mouseover",e),function(){return document.removeEventListener("mouseover",e)}}}),[n,a]),n}();return function(e){var t=Object(m.b)(),n=Object(m.c)(nt),a=Object(p.useToasts)().addToast;Object(l.useEffect)((function(){n.message&&a(s.a.createElement(Dn,{error:n}),{id:"error",appearance:"error",autoDismiss:e&&!n.important,onDismiss:function(){t({type:"clearError"})}})}),[a,t,n,e])}(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ms,n=void 0===t?500:t;Object(l.useEffect)((function(){var e=0,t=function(t){if(1===t.touches.length){var a=Date.now();1===t.touches.length&&a>e&&(t.preventDefault(),t.target.click()),e=a+n}};return document.body.addEventListener("touchstart",t,{passive:!1}),function(){return document.body.removeEventListener("touchstart",t,{passive:!1})}}),[n])}(),function(e){var t=Object(m.c)(mt),n=Nn(e);Object(l.useEffect)((function(){t.forEach(n)}),[t,n])}(e),s.a.createElement("div",{className:Pt()("App container maxwidth")},s.a.createElement(Xt,null),s.a.createElement(en,null),s.a.createElement(kn,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(m.a,{store:Ot},s.a.createElement(p.ToastProvider,{placement:"bottom-center"},s.a.createElement(In,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[328,1,2]]]);
//# sourceMappingURL=main.6b34f42b.chunk.js.map